version: api.keploy.io/v1beta1
kind: SQL
name: mocks
spec:
    metadata:
        operation: HANDSHAKE_RESPONSE
        responseOperation: MySQLOK
        type: config
    requests:
        - header:
            packet_length: 134
            packet_number: 1
            packet_type: HANDSHAKE_RESPONSE
          message:
            capability_flags: 12252111
            max_packet_size: 0
            character_set: 224
            reserved:
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
                - 0
            username: user
            auth_data:
                - 16
                - 84
                - 231
                - 2
                - 249
                - 192
                - 8
                - 121
                - 238
                - 167
                - 11
                - 191
                - 233
                - 9
                - 65
                - 98
                - 181
                - 83
                - 196
                - 123
            database: mydb
            auth_plugin_name: mysql_native_password
            connect_attributes:
                _client_name: Node-MySQL-2
                _client_version: 3.7.0
            zstdcompressionlevel: 0
    responses:
        - header:
            packet_length: 74
            packet_number: 0
            packet_type: MySQLHandshakeV10
          message:
            protocol_version: 10
            server_version: 5.7.44
            connection_id: 2
            auth_plugin_data:
                - 71
                - 6
                - 84
                - 80
                - 114
                - 91
                - 77
                - 21
                - 88
                - 81
                - 58
                - 111
                - 41
                - 38
                - 112
                - 112
                - 82
                - 39
                - 103
                - 111
                - 0
            capability_flags: 3254779903
            character_set: 8
            status_flags: 2
            auth_plugin_name: mysql_native_password
        - header:
            packet_length: 16
            packet_number: 2
            packet_type: MySQLOK
          message:
            affected_rows: 0
            last_insert_id: 0
            status_flags: 16386
            warnings: 0
            info: "\0\a\x01\x05\x04mydb"
    created: 1705518627
---
version: api.keploy.io/v1beta1
kind: SQL
name: mocks
spec:
    metadata:
        operation: MySQLQuery
        responseOperation: MySQLOK
        type: mocks
    requests:
        - header:
            packet_length: 235
            packet_number: 0
            packet_type: MySQLQuery
          message:
            command: 3
            query: "\n        CREATE TABLE IF NOT EXISTS items (\n            id INT AUTO_INCREMENT PRIMARY KEY,\n            name VARCHAR(255) NOT NULL,\n            description TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n    "
    responses:
        - header:
            packet_length: 7
            packet_number: 1
            packet_type: MySQLOK
          message:
            affected_rows: 0
            last_insert_id: 0
            status_flags: 2
            warnings: 1
            info: ""
    created: 1705518627
---
version: api.keploy.io/v1beta1
kind: SQL
name: mocks
spec:
    metadata:
        operation: MySQLQuery
        responseOperation: MySQLOK
        type: mocks
    requests:
        - header:
            packet_length: 73
            packet_number: 0
            packet_type: MySQLQuery
          message:
            command: 3
            query: INSERT INTO items SET `name` = '<name>', `description` = '<description>'
    responses:
        - header:
            packet_length: 7
            packet_number: 1
            packet_type: MySQLOK
          message:
            affected_rows: 1
            last_insert_id: 4
            status_flags: 2
            warnings: 0
            info: ""
    created: 1705518635
---
version: api.keploy.io/v1beta1
kind: SQL
name: mocks
spec:
    metadata:
        operation: MySQLQuery
        responseOperation: MySQLOK
        type: mocks
    requests:
        - header:
            packet_length: 66
            packet_number: 0
            packet_type: MySQLQuery
          message:
            command: 3
            query: INSERT INTO items SET `name` = '<name>', `description` = 'batman'
    responses:
        - header:
            packet_length: 7
            packet_number: 1
            packet_type: MySQLOK
          message:
            affected_rows: 1
            last_insert_id: 5
            status_flags: 2
            warnings: 0
            info: ""
    created: 1705518666
---
version: api.keploy.io/v1beta1
kind: SQL
name: mocks
spec:
    metadata:
        operation: MySQLQuery
        responseOperation: MySQLOK
        type: mocks
    requests:
        - header:
            packet_length: 71
            packet_number: 0
            packet_type: MySQLQuery
          message:
            command: 3
            query: INSERT INTO items SET `name` = 'homelander', `description` = 'villain'
    responses:
        - header:
            packet_length: 7
            packet_number: 1
            packet_type: MySQLOK
          message:
            affected_rows: 1
            last_insert_id: 6
            status_flags: 2
            warnings: 0
            info: ""
    created: 1705518708
